{
    "sourceFile": "src/pages/VerifyProfile.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1753188842005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753251224840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,54 @@\n-import React from \"react\";\r\n+import React, { useState } from \"react\";\r\n import { FaLock } from \"react-icons/fa\";\r\n \r\n const VerifyProfile = ({ user }) => {\r\n+  const [form, setForm] = useState({\r\n+    address: user.address || '',\r\n+    address2: user.address2 || '',\r\n+    state: user.state || '',\r\n+    city: user.city || '',\r\n+    zipcode: user.zipcode || '',\r\n+    dateOfBirth: user.dateOfBirth || '',\r\n+  });\r\n+  const [message, setMessage] = useState(\"\");\r\n+  const [loading, setLoading] = useState(false);\r\n+\r\n+  const handleChange = (e) => {\r\n+    setForm({ ...form, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setMessage(\"\");\r\n+    const token = localStorage.getItem('authToken');\r\n+    try {\r\n+      const response = await fetch(`${import.meta.env.VITE_API_BASE_URL}/users/me`, {\r\n+        method: 'PUT',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+          Authorization: `Bearer ${token}`\r\n+        },\r\n+        body: JSON.stringify(form)\r\n+      });\r\n+      const data = await response.json();\r\n+      if (response.ok) {\r\n+        setMessage('Profile updated successfully!');\r\n+      } else {\r\n+        setMessage(data.error || 'Failed to update profile.');\r\n+      }\r\n+    } catch (err) {\r\n+      setMessage('Failed to update profile.');\r\n+    }\r\n+    setLoading(false);\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"flex flex-col items-center w-full min-h-screen bg-transparent pt-8 pb-16\">\r\n       <div className=\"w-full max-w-2xl bg-[#232224] rounded-2xl shadow-lg p-8\">\r\n         <h2 className=\"text-2xl font-bold text-white mb-6\">Personal information</h2>\r\n-        <form>\r\n+        <form onSubmit={handleSubmit}>\r\n           <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n             <div>\r\n               <label className=\"block font-semibold text-white mb-1\">First Name</label>\r\n               <div className=\"relative\">\r\n@@ -30,48 +71,38 @@\n               <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n             </div>\r\n           </div>\r\n           <div className=\"mb-4\">\r\n-            <label className=\"block font-semibold text-white mb-1\">Phone number</label>\r\n-            <div className=\"relative\">\r\n-              <input className=\"input-field w-full pr-8 bg-gray-900 text-white\" value={user.phone || ''} readOnly />\r\n-              <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n-            </div>\r\n-          </div>\r\n-          <div className=\"mb-4\">\r\n             <label className=\"block font-semibold text-white mb-1\">Address</label>\r\n-            <input className=\"input-field w-full bg-gray-900 text-white border border-red-500\" value={user.address || ''} placeholder=\"Street name and House no.\" />\r\n+            <input className=\"input-field w-full bg-gray-900 text-white border border-red-500\" name=\"address\" value={form.address} onChange={handleChange} placeholder=\"Street name and House no.\" required />\r\n             <div className=\"text-red-400 text-xs mt-1\">Required Field</div>\r\n           </div>\r\n           <div className=\"mb-4\">\r\n-            <input className=\"input-field w-full bg-gray-900 text-white\" placeholder=\"Address line 2 (Optional)\" />\r\n+            <input className=\"input-field w-full bg-gray-900 text-white\" name=\"address2\" value={form.address2} onChange={handleChange} placeholder=\"Address line 2 (Optional)\" />\r\n           </div>\r\n           <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n             <div>\r\n               <label className=\"block font-semibold text-white mb-1\">State</label>\r\n-              <select className=\"input-field w-full bg-gray-900 text-white\">\r\n-                <option>United States</option>\r\n-              </select>\r\n+              <input className=\"input-field w-full bg-gray-900 text-white\" name=\"state\" value={form.state} onChange={handleChange} placeholder=\"State\" />\r\n             </div>\r\n             <div>\r\n               <label className=\"block font-semibold text-white mb-1\">City</label>\r\n-              <select className=\"input-field w-full bg-gray-900 text-white\">\r\n-                <option>Texas</option>\r\n-              </select>\r\n+              <input className=\"input-field w-full bg-gray-900 text-white\" name=\"city\" value={form.city} onChange={handleChange} placeholder=\"City\" />\r\n             </div>\r\n           </div>\r\n           <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n             <div>\r\n               <label className=\"block font-semibold text-white mb-1\">Zipcode</label>\r\n-              <input className=\"input-field w-full bg-gray-900 text-white\" />\r\n+              <input className=\"input-field w-full bg-gray-900 text-white\" name=\"zipcode\" value={form.zipcode} onChange={handleChange} placeholder=\"Zipcode\" />\r\n             </div>\r\n             <div>\r\n               <label className=\"block font-semibold text-white mb-1\">Date of Birth</label>\r\n-              <input className=\"input-field w-full bg-gray-900 text-white\" type=\"date\" />\r\n+              <input className=\"input-field w-full bg-gray-900 text-white\" type=\"date\" name=\"dateOfBirth\" value={form.dateOfBirth} onChange={handleChange} />\r\n             </div>\r\n           </div>\r\n           <div className=\"text-gray-400 mb-4\">All data is safely stored and encrypted.</div>\r\n-          <button type=\"submit\" className=\"bg-gradient-to-r from-orange-400 to-red-600 px-8 py-2 rounded-full text-white font-bold shadow-lg\">Save</button>\r\n+          <button type=\"submit\" className=\"bg-gradient-to-r from-orange-400 to-red-600 px-8 py-2 rounded-full text-white font-bold shadow-lg\" disabled={loading}>{loading ? 'Saving...' : 'Save'}</button>\r\n+          {message && <div className=\"mt-4 text-center text-yellow-400 font-semibold\">{message}</div>}\r\n         </form>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1753255240877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n     setMessage(\"\");\r\n     const token = localStorage.getItem('authToken');\r\n     try {\r\n       const response = await fetch(`${import.meta.env.VITE_API_BASE_URL}/users/me`, {\r\n-        method: 'PUT',\r\n+        method: '',\r\n         headers: {\r\n           'Content-Type': 'application/json',\r\n           Authorization: `Bearer ${token}`\r\n         },\r\n"
                }
            ],
            "date": 1753188842005,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\nimport { FaLock } from \"react-icons/fa\";\r\n\r\nconst VerifyProfile = ({ user }) => {\r\n  return (\r\n    <div className=\"flex flex-col items-center w-full min-h-screen bg-transparent pt-8 pb-16\">\r\n      <div className=\"w-full max-w-2xl bg-[#232224] rounded-2xl shadow-lg p-8\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-6\">Personal information</h2>\r\n        <form>\r\n          <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">First Name</label>\r\n              <div className=\"relative\">\r\n                <input className=\"input-field w-full pr-8 bg-gray-900 text-white\" value={user.firstName || ''} readOnly />\r\n                <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">Last Name</label>\r\n              <div className=\"relative\">\r\n                <input className=\"input-field w-full pr-8 bg-gray-900 text-white\" value={user.lastName || ''} readOnly />\r\n                <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block font-semibold text-white mb-1\">Email Address</label>\r\n            <div className=\"relative\">\r\n              <input className=\"input-field w-full pr-8 bg-gray-900 text-white\" value={user.email || ''} readOnly />\r\n              <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block font-semibold text-white mb-1\">Phone number</label>\r\n            <div className=\"relative\">\r\n              <input className=\"input-field w-full pr-8 bg-gray-900 text-white\" value={user.phone || ''} readOnly />\r\n              <FaLock className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block font-semibold text-white mb-1\">Address</label>\r\n            <input className=\"input-field w-full bg-gray-900 text-white border border-red-500\" value={user.address || ''} placeholder=\"Street name and House no.\" />\r\n            <div className=\"text-red-400 text-xs mt-1\">Required Field</div>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <input className=\"input-field w-full bg-gray-900 text-white\" placeholder=\"Address line 2 (Optional)\" />\r\n          </div>\r\n          <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">State</label>\r\n              <select className=\"input-field w-full bg-gray-900 text-white\">\r\n                <option>United States</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">City</label>\r\n              <select className=\"input-field w-full bg-gray-900 text-white\">\r\n                <option>Texas</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">Zipcode</label>\r\n              <input className=\"input-field w-full bg-gray-900 text-white\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block font-semibold text-white mb-1\">Date of Birth</label>\r\n              <input className=\"input-field w-full bg-gray-900 text-white\" type=\"date\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"text-gray-400 mb-4\">All data is safely stored and encrypted.</div>\r\n          <button type=\"submit\" className=\"bg-gradient-to-r from-orange-400 to-red-600 px-8 py-2 rounded-full text-white font-bold shadow-lg\">Save</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyProfile; "
        }
    ]
}